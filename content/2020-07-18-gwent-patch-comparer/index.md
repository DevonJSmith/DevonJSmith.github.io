# Gwent Patch Comparison Tool
A React Single-Page Application that allows users to compare cards from the virtual game card [Gwent](https://www.playgwent.com/en/) across different patch versions.

## Technologies Leveraged
- [ReactJS](https://reactjs.org/)
- [Semantic-UI](https://semantic-ui.com/)
- [gwent-data](https://github.com/GwentCommunityDevelopers/gwent-data)
  - used to generate metadata in `json` format per version
- [Unity Asset Studio](https://github.com/Perfare/AssetStudio)
  - for extracting card art / UI assets from Gwent files

## Core Functionality
### Card Service
The `CardService` class parses through and retrieves the card metadata stored in `.json` files. This metadata is generated by the `gwent-data` tool (described in detail below) and separated by version in the `~/src/data` directory.

The `CardService` has the following functions:

```javascript
static findCardsByName(searchVal, versionNum) {
        var cardData = require(`../data/${versionNum}/cards.json`);

        if (cardData) {
            return _.toPairs(cardData)
            .filter(([key, val]) => val.name['en-US'].toLowerCase().includes(searchVal.toLowerCase()))
            .map(([key,val]) =>({id: key, title: val.name['en-US']}));
        }
    }
```
This method is used for the searching functions, where `searchVal` is a `string` portion of a card name and `versionNum` is a `string` representing the patch version. It returns a list of `json` objects containing relevant card `titles` and the corresponding `id`s.

```javascript
static retrieveCardData(id, versionNum) {
        var cardData = require(`../data/${versionNum}/cards.json`);

        if (cardData) {
            return _.toPairs(cardData)
            .filter(([key, val]) => key === id)
            .map(([key,val]) => (
                {
                    id: key,
                    name: val.name['en-US'],
                    cardType: val.cardType,
                    categories: val.categories,
                    faction: val.faction,
                    flavorText: val.flavor['en-US'],
                    infoText: val.info['en-US'],
                    infoRawText: val.infoRaw['en-US'],
                    keywords: val.keywords,
                    loyalties: val.loyalties,
                    positions: val.positions,
                    provision: val.provision,
                    strength: val.strength,
                    armor: val.armor,
                    type: val.type,
                    artist: val.artist,
                    artId: val.variations[key +'00'].art.ingameArtId,
                    rarity: val.variations[key + '00'].rarity
                }
            ))
            .values().next().value;
        }
    }
```
This method is responsible for returning all relevant metadata for a specific card given the `id` and `versionNum`.





#### Generating the Metadata
Here is an example of the separation of card metadata by version:
```
- src/data
     |
     ----> 6.1.3
        - cards.json
        - categories.json
        - keywords.json
     |
     ----> 7.0.1
        - cards.json
        - categories.json
        - keywords.json
```

A brief description of each of these files can be found below:
### Displaying the card
#### Extracting Assets
#### Composing the Card Element
## Complications Encountered
## Future Improvements
### Patch Summary
### Asynchronous Processing
## Conclusion